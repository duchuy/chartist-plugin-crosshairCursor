/* chartist-plugin-crosshairCursor 0.0.5
 * Copyright Â© 2017 Sroop Sunar
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.crosshairCursor"]=b(Chartist)}(this,function(a){return function(a,b,c){"use strict";var d={wrapperName:"",type:"full",sendDataOn:"hover"};c.plugins=c.plugins||{},c.plugins.crosshairCursor=function(e){e=c.extend({},d,e);var f=[];return function(d){var g=function(a){var b=a.map(function(a){return a.meta});d.eventEmitter.emit("crosshairCursor:hovered",b)},h=function(a){d.eventEmitter.emit("crosshairCursor:frozen",a)},i=function(){return f.filter(function(a){return a.current})},j=function(a){return a+"px"},k=function(a,c){var d=b.createElement("div");d.setAttribute("id","crosshairCursor-"+a),c.insertBefore(d,c.firstChild);var e=b.querySelector("#crosshairCursor-"+a);return e.style.position="absolute",e.style.display="none",e.style.backgroundColor="#dedede","x"===a?(e.style.height="95%",e.style.width="1px"):"y"===a&&(e.style.width="100%",e.style.height="1px"),e},l=function(a,b,c){return a>=b-c&&a<=b+c},m=function(a){var b=c.deserialize(a.meta);return b.value=a.value,b.value.x=a.axisX.ticks[a.index],{meta:b,position:{x:Math.round(a.x),y:Math.round(a.y)},element:a.element}},n=function(a,b){a.forEach(function(a){b?a.element.addClass("crosshairCursor-highlight"):a.element.removeClass("crosshairCursor-highlight")})},o=function(a,b,c){return"x"===e.type?l(a.x,b.x,c):"y"===e.type?l(a.y,b.y,c):"full"===e.type?l(a.x,b.x,c)||l(a.y,b.y,c):void 0};if(d instanceof c.Line){var p=b.createElement("div");if(e.wrapperName.startsWith("#"))p.id=e.wrapperName.substr(1);else{if(!e.wrapperName.startsWith("."))throw"Must be a class or id!";p.className=e.wrapperName.substr(1)}d.container.parentNode.insertBefore(p,d.container),p.appendChild(d.container),p.className=p.className+" crosshairCursor-wrapper",p.style.cursor="pointer",p.style.position="relative";var q=k("x",p),r=k("y",p);d.on("draw",function(a){"point"===a.type&&f.push(m(a))}),d.on("created",function(){var c=!1,d=b.querySelectorAll(".ct-point"),k=a.getComputedStyle(d[0])["stroke-width"].replace("px",""),l=+k/2,m=e.initial>0?e.initial-1:void 0;e.initial&&(f[m].current=!0),i().length&&(g(i()),n(i(),!0)),p.onclick=function(a){a.stopPropagation(),!c&&i().length&&"click"===e.sendDataOn?(g(i()),e.clickToFreeze&&(c=!c,h(c))):e.clickToFreeze&&(c=!c,h(c))},f.length&&(p.onmousemove=function(a){if(!c){var b=!1,d={};d.x=a.pageX-this.offsetLeft,d.y=a.pageY-this.offsetTop,q.style.left=j(d.x),r.style.top=j(d.y),f.forEach(function(a){var c=o(d,a.position,l);n([a],c),a.current===c||b||(b=!0),a.current=c}),i().length&&"hover"===e.sendDataOn&&b?g(i()):!i().length&&b&&g([])}},p.onmouseenter=function(){"x"===e.type?q.style.display="":"y"===e.type?r.style.display="":"full"===e.type&&(q.style.display="",r.style.display="")},p.onmouseleave=function(){c||("x"===e.type?q.style.display="none":"y"===e.type?r.style.display="none":"full"===e.type&&(q.style.display="none",r.style.display="none"))})})}}}}(window,document,a),a.plugins.crosshairCursor});
//# sourceMappingURL=chartist-plugin-crosshairCursor.min.js.map