/* chartist-crosshairCursor 0.0.5
 * Copyright Â© 2017 Sroop Sunar
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.crosshairCursor"]=b(Chartist)}(this,function(a){return function(a,b,c){"use strict";var d={wrapperName:"",type:"full",sendDataOn:"hover"};c.plugins=c.plugins||{},c.plugins.crosshairCursor=function(e){e=c.extend({},d,e);var f=[];return function(d){function g(a){var b=a.map(function(a){return a.meta});d.eventEmitter.emit("crosshairCursor:hovered",b)}function h(a){d.eventEmitter.emit("crosshairCursor:frozen",a)}function i(){return f.filter(function(a){return a.current})}function j(a){return a+"px"}function k(a){var c=b.createElement("div");c.setAttribute("id","crosshairCursor-"+a),p.insertBefore(c,p.firstChild);var d=b.querySelector("#crosshairCursor-"+a);return d.style.position="absolute",d.style.display="none","x"==a?(d.style.height="95%",d.style.width="1px"):"y"==a&&(d.style.width="100%",d.style.height="1px"),d}function l(a,b,c){return a>=b-c&&a<=b+c}function m(a){var b=a.meta;return b.value=a.value,b.value.x=a.axisX.ticks[a.index],{meta:b,position:{x:Math.round(a.x),y:Math.round(a.y)},element:a.element}}function n(a,b){a.forEach(function(a){b?a.element.addClass("crosshairCursor-highlight"):a.element.removeClass("crosshairCursor-highlight")})}function o(a,b,c){return"x"==e.type?l(a.x,b.x,c):"y"==e.type?l(a.y,b.y,c):"full"==e.type?l(a.x,b.x,c)||l(a.y,b.y,c):void 0}if(d instanceof c.Line){var p=b.createElement("div");if(e.wrapperName.startsWith("#"))p.id=e.wrapperName.substr(1);else{if(!e.wrapperName.startsWith("."))throw"Must be a class or id!";p.className=e.wrapperName.substr(1)}d.container.parentNode.insertBefore(p,d.container),p.appendChild(d.container),p.className=p.className+" crosshairCursor-wrapper",p.style.cursor="pointer",p.style.position="relative";var q=k("x"),r=k("y");d.on("draw",function(a){"point"==a.type&&f.push(m(a))}),d.on("created",function(c){var d=!1,k=b.querySelectorAll(".ct-point"),l=a.getComputedStyle(k[0])["stroke-width"].replace("px",""),m=+l/2,s=e.initial>0?e.initial-1:void 0;e.initial&&(f[s].current=!0),i().length&&(g(i()),n(i(),!0)),p.onclick=function(a){a.stopPropagation(),!d&&i().length&&"click"==e.sendDataOn?(g(i()),e.clickToFreeze&&(d=!d,h(d))):e.clickToFreeze&&(d=!d,h(d))},f.length&&(p.onmousemove=function(a){if(!d){var b=!1,c={};c.x=a.pageX-this.offsetLeft,c.y=a.pageY-this.offsetTop,q.style.left=j(c.x),r.style.top=j(c.y),f.forEach(function(a){onPoint=o(c,a.position,m),n([a],onPoint),a.current===onPoint||b||(b=!0),a.current=onPoint}),i().length&&"hover"==e.sendDataOn&&b?g(i()):!i().length&&b&&g([])}},p.onmouseenter=function(a){"x"==e.type?q.style.display="":"y"==e.type?r.style.display="":"full"==e.type&&(q.style.display="",r.style.display="")},p.onmouseleave=function(a){d||("x"==e.type?q.style.display="none":"y"==e.type?r.style.display="none":"full"==e.type&&(q.style.display="none",r.style.display="none"))})})}}}}(window,document,a),a.plugins.crosshairCursor});
//# sourceMappingURL=chartist-crosshairCursor.min.js.map